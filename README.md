# Wallet Service

Микросервис для управления кошельками с поддержкой операций пополнения и списания средств.
Выполнен в рамках тестового задания. Сам сервис выполнен в рамках реактивного стека, так как в условиях тестового задания была подчеркнута необходмость работы с большим количеством запросов.

## Функциональность

- **Пополнение кошелька (DEPOSIT)**: пополнение баланса на указанную сумму
- **Списание средств (WITHDRAW)**: списание средств с баланса с проверкой достаточности средств
- **Получение баланса**: получение текущего баланса кошелька по его идентификатору
- **Автоматическое создание кошелька**: кошелек создается автоматически при первой операции, если не существует

## API Endpoints

### Пополнение/списание средств
```http
POST /api/v1/wallet
Content-Type: application/json

{
  "walletId": "550e8400-e29b-41d4-a716-446655440000",
  "operationType": "DEPOSIT",
  "amount": 1000
}
```

### Получение баланса
```http
GET /api/v1/wallets/{walletId}
```

## Запуск через Docker
```
git clone https://github.com/iakkov/wallet
cd wallet
docker-compose up -d
```

### Переменные окружения

```env
POSTGRES_DB=wallet
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432
SERVER_PORT=8080
LOG_LEVEL=INFO
```
